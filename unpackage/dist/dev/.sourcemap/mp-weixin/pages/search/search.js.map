{"version":3,"sources":["webpack:///C:/Users/stefan.wang/Documents/HBuilderProjects/2music/main.js","webpack:///C:/Users/stefan.wang/Documents/HBuilderProjects/2music/pages/search/search.vue?0fea","webpack:///C:/Users/stefan.wang/Documents/HBuilderProjects/2music/pages/search/search.vue?aa41","webpack:///C:/Users/stefan.wang/Documents/HBuilderProjects/2music/pages/search/search.vue?e2a2","webpack:///C:/Users/stefan.wang/Documents/HBuilderProjects/2music/pages/search/search.vue?8d6f","webpack:///C:/Users/stefan.wang/Documents/HBuilderProjects/2music/pages/search/search.vue"],"names":["createPage","Page","components","card","colorTag","uniListItem","data","hot","name","cate","keyword","historyList","onLoad","onShow","history","uni","getStorageSync","JSON","parse","onNavigationBarButtonTap","e","index","search","onNavigationBarSearchInputChanged","text","onNavigationBarSearchInputConfirmed","methods","clickHistoryWord","word","showToast","title","icon","hideKeyboard","navigateTo","url","setTimeout","addHistory","indexOf","unshift","splice","length","setStorageSync","stringify","clearHistory","showModal","content","cancelText","confirmText","success","res","confirm","removeStorageSync"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AAC+M;AAC/M,gBAAgB,6MAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACzCf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkzB,CAAgB,gxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqCvzB;AACdC,YAAU,EAAE;AACXC,QAAI,EAAJA,IADW;AAEXC,YAAQ,EAARA,QAFW;AAGXC,eAAW,EAAXA,WAHW,EADE;;AAMdC,MANc,kBAMP;AACN,WAAO;AACNC,SAAG,EAAE;AACJ,QAACC,IAAI,EAAE,IAAP,EADI;AAEJ,QAACA,IAAI,EAAE,MAAP,EAFI;AAGJ,QAACA,IAAI,EAAE,MAAP,EAHI;AAIJ,QAACA,IAAI,EAAE,KAAP,EAJI;AAKJ,QAACA,IAAI,EAAE,KAAP,EALI,CADC;;AAQNC,UAAI,EAAE;AACL,QAACD,IAAI,EAAE,IAAP,EADK;AAEL,QAACA,IAAI,EAAE,KAAP,EAFK;AAGL,QAACA,IAAI,EAAE,MAAP,EAHK;AAIL,QAACA,IAAI,EAAE,KAAP,EAJK;AAKL,QAACA,IAAI,EAAE,IAAP,EALK;AAML,QAACA,IAAI,EAAE,KAAP,EANK;AAOL,QAACA,IAAI,EAAE,KAAP,EAPK;AAQL,QAACA,IAAI,EAAE,KAAP,EARK,CARA;;;AAmBNE,aAAO,EAAE,EAnBH;AAoBNC,iBAAW,EAAE,EApBP,EAAP;;AAsBA,GA7Ba;AA8BdC,QAAM,EAAE,kBAAW;AAClB;AACA;;;;AAIA,GApCa;AAqCdC,QAAM,EAAE,kBAAW;AAClB,QAAIC,OAAO,GAAGC,GAAG,CAACC,cAAJ,CAAmB,eAAnB,CAAd;AACA,SAAKL,WAAL,GAAmBG,OAAO,GAAEG,IAAI,CAACC,KAAL,CAAWJ,OAAX,CAAF,GAAwB,EAAlD;AACA,GAxCa;AAyCdK,0BAAwB,EAAE,kCAASC,CAAT,EAAY;AACrC,QAAIA,CAAC,CAACC,KAAF,KAAY,CAAhB,EAAmB;AAClB,WAAKC,MAAL;AACA;AACD,GA7Ca;AA8CdC,mCAAiC,EAAE,2CAASH,CAAT,EAAY;AAC9C,SAAKV,OAAL,GAAeU,CAAC,CAACI,IAAjB;AACA,GAhDa;AAiDd;AACAC,qCAAmC,EAAE,+CAAW;AAC/C,SAAKH,MAAL;AACA,GApDa;AAqDdI,SAAO,EAAE;AACRC,oBAAgB,EAAE,0BAASC,IAAT,EAAe;AAChC,WAAKlB,OAAL,GAAekB,IAAf;AACA,WAAKN,MAAL;AACA,KAJO;AAKRA,UAAM,EAAE,kBAAW;AAClB,UAAI,KAAKZ,OAAL,KAAiB,EAArB,EAAyB;AACxB,eAAOK,GAAG,CAACc,SAAJ,CAAc,EAACC,KAAK,EAAE,QAAR,EAAkBC,IAAI,EAAE,MAAxB,EAAd,CAAP;AACA;AACD;;;;;AAKAhB,SAAG,CAACiB,YAAJ;;;AAGAjB,SAAG,CAACkB,UAAJ,CAAe;AACdC,WAAG,EAAE,4CAA4C,KAAKxB,OADxC,EAAf;;AAGAyB,gBAAU,CAAC,YAAM;AAChB,aAAI,CAACC,UAAL;AACA,OAFS,EAEP,GAFO,CAAV;AAGA,KAvBO;AAwBR;AACAA,cAAU,EAAE,sBAAW;AACtB,UAAIf,KAAK,GAAG,KAAKV,WAAL,CAAiB0B,OAAjB,CAAyB,KAAK3B,OAA9B,CAAZ;AACA;AACA,UAAIW,KAAK,KAAK,CAAC,CAAf,EAAkB;AACjB,aAAKV,WAAL,CAAiB2B,OAAjB,CAAyB,KAAK5B,OAA9B;AACA,OAFD,MAEO;AACN;AACA,YAAIW,KAAK,KAAK,CAAd,EAAiB;AAChB,eAAKV,WAAL,CAAiB4B,MAAjB,CAAwBlB,KAAxB,EAA+B,CAA/B;AACA,eAAKV,WAAL,CAAiB2B,OAAjB,CAAyB,KAAK5B,OAA9B;AACA;AACD;AACD;AACA,UAAI,KAAKC,WAAL,CAAiB6B,MAAjB,GAA0B,CAA9B,EAAiC;AAChC,aAAK7B,WAAL,CAAiB4B,MAAjB,CAAwB,KAAK5B,WAAL,CAAiB6B,MAAjB,GAA0B,CAAlD,EAAqD,CAArD;AACA;AACDzB,SAAG,CAAC0B,cAAJ,CAAmB,eAAnB,EAAoCxB,IAAI,CAACyB,SAAL,CAAe,KAAK/B,WAApB,CAApC;AACA,KA1CO;AA2CR;AACAgC,gBAAY,EAAE,wBAAW;AACxB5B,SAAG,CAAC6B,SAAJ,CAAc;AACbd,aAAK,EAAE,IADM;AAEbe,eAAO,EAAE,YAFI;AAGbC,kBAAU,EAAE,IAHC;AAIbC,mBAAW,EAAE,IAJA;AAKbC,eAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,cAAIA,GAAG,CAACC,OAAR,EAAiB;AAChBnC,eAAG,CAACoC,iBAAJ,CAAsB,eAAtB;AACA,kBAAI,CAACxC,WAAL,GAAmB,EAAnB;AACA;AACD,SAVY,EAAd;;AAYA,KAzDO,EArDK,E","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=3232b0d5&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3232b0d5')) {\n      api.createRecord('3232b0d5', component.options)\n    } else {\n      api.reload('3232b0d5', component.options)\n    }\n    module.hot.accept(\"./search.vue?vue&type=template&id=3232b0d5&\", function () {\n      api.rerender('3232b0d5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/stefan.wang/Documents/HBuilderProjects/2music/pages/search/search.vue\"\nexport default component.exports","export * from \"-!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=3232b0d5&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\浏览器文件下载路径\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport card from '@/components/common/card.vue'\nimport colorTag from '@/components/search/color-tag.vue'\nimport uniListItem from '@/components/uni-ui/uni-list-item/uni-list-item.vue'\n\nexport default {\n\tcomponents: {\n\t\tcard,\n\t\tcolorTag,\n\t\tuniListItem\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thot: [\n\t\t\t\t{name: '吉他'},\n\t\t\t\t{name: '尤克里里'},\n\t\t\t\t{name: '古典吉他'},\n\t\t\t\t{name: '小提琴'},\n\t\t\t\t{name: '架子鼓'}\n\t\t\t],\n\t\t\tcate: [\n\t\t\t\t{name: \"吉他\"},\n\t\t\t\t{name: \"小提琴\"},\n\t\t\t\t{name: \"尤克里里\"},\n\t\t\t\t{name: \"卡洪鼓\"},\n\t\t\t\t{name: \"二胡\"},\n\t\t\t\t{name: \"非洲鼓\"},\n\t\t\t\t{name: \"大提琴\"},\n\t\t\t\t{name: \"电子琴\"}\n\t\t\t],\n\t\t\t\n\t\t\tkeyword: \"\",\n\t\t\thistoryList: []\n\t\t}\n\t},\n\tonLoad: function() {\n\t\t// 搜索框自动获取焦点 并弹出软键盘\n\t\t// 自动获取焦点在pages.json中配置\n\n\n\n\t},\n\tonShow: function() {\n\t\tlet history = uni.getStorageSync('searchHistory')\n\t\tthis.historyList = history? JSON.parse(history) : []\n\t},\n\tonNavigationBarButtonTap: function(e) {\n\t\tif (e.index === 0) {\n\t\t\tthis.search()\n\t\t}\n\t},\n\tonNavigationBarSearchInputChanged: function(e) {\n\t\tthis.keyword = e.text\n\t},\n\t// 用户点击软键盘上的搜索按钮时触发\n\tonNavigationBarSearchInputConfirmed: function() {\n\t\tthis.search()\n\t},\n\tmethods: {\n\t\tclickHistoryWord: function(word) {\n\t\t\tthis.keyword = word\n\t\t\tthis.search()\n\t\t},\n\t\tsearch: function() {\n\t\t\tif (this.keyword === '') {\n\t\t\t\treturn uni.showToast({title: '请输入关键字', icon: 'none'});\n\t\t\t}\n\t\t\t// 隐藏软键盘\n\n\n\n\n\t\t\tuni.hideKeyboard()\n\n\t\t\t\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/search-list/search-list?keyword=' + this.keyword\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.addHistory()\n\t\t\t}, 500)\n\t\t},\n\t\t// 加入搜索历史记录\n\t\taddHistory: function() {\n\t\t\tlet index = this.historyList.indexOf(this.keyword)\n\t\t\t// 不存在则加入\n\t\t\tif (index === -1) {\n\t\t\t\tthis.historyList.unshift(this.keyword)\n\t\t\t} else {\n\t\t\t\t// 存在但不在历史记录列表的最前面则移到最前面\n\t\t\t\tif (index !== 0) {\n\t\t\t\t\tthis.historyList.splice(index, 1)\n\t\t\t\t\tthis.historyList.unshift(this.keyword)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 超过6条之后 移除最后面的一个 保持搜索历史中最多只有6条记录\n\t\t\tif (this.historyList.length > 6) {\n\t\t\t\tthis.historyList.splice(this.historyList.length - 1, 1)\n\t\t\t}\n\t\t\tuni.setStorageSync('searchHistory', JSON.stringify(this.historyList))\n\t\t},\n\t\t// 清除搜索记录\n\t\tclearHistory: function() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否要清除搜索历史？',\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '清除',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.removeStorageSync('searchHistory')\n\t\t\t\t\t\tthis.historyList = []\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n}\n"],"sourceRoot":""}